ALTER TABLE Program
ADD UserDefined bit
GO

UPDATE Program
SET UserDefined = 0
WHERE ID IN ('7DE3B3D7-B60F-48AC-9681-78D46A5E74D4', --RTI
'D3AB11A2-96C0-4BA5-914A-C250EDDEA995', --ILP
'F98A8EF2-98E2-4CAC-95AF-D7D89EF7F80C') --SpEd

UPDATE Program
SET UserDefined = 1
WHERE ID NOT IN ('7DE3B3D7-B60F-48AC-9681-78D46A5E74D4', --RTI
'D3AB11A2-96C0-4BA5-914A-C250EDDEA995', --ILP
'F98A8EF2-98E2-4CAC-95AF-D7D89EF7F80C') --SpEd

ALTER TABLE Program
ALTER COLUMN UserDefined bit NOT NULL
GO

--Reset security context for school level tasks to student.
UPDATE SecurityTask
SET ContextTypeID = 'F069CEA9-B0F4-44E2-AD7D-EE03E3F7C0D4'
WHERE SecurityTaskTypeID IN ('FB89727E-3289-4DA6-A386-CB02E791FF5C','022E578E-79AC-407C-B5F9-C9403CC45698')

----Program Management Permissions
DECLARE @districtProgramsCategoryID uniqueidentifier
SET @districtProgramsCategoryID = '64EC7291-1B71-4268-AB01-14410587F727'

--UPDATE Existing Category Sequences
UPDATE SecurityTaskCategory
SET Sequence = 3
WHERE ParentID = @districtProgramsCategoryID

--Add Program
INSERT INTO SecurityTaskType
VALUES ('5BE4FF33-80FA-42D4-97EB-692A9A82B940', 'Add Program', 'Add Program')

INSERT INTO SecurityTaskCategory
VALUES ('636F3E9D-267C-4881-9FC5-14D924059EDE', 'Add', @districtProgramsCategoryID, NULL, 0, NULL, NULL)

INSERT INTO SecurityTask
VALUES ('5BE4FF33-80FA-42D4-97EB-692A9A82B940', '636F3E9D-267C-4881-9FC5-14D924059EDE', 0, NULL, NULL, 'DA472801-9697-4231-ABE0-820459456E76')

--Edit Program
INSERT INTO SecurityTaskType
VALUES ('5EC8E61D-58D7-4A25-A932-E891817219DF', 'Edit Program', 'Edit Program')

INSERT INTO SecurityTaskCategory
VALUES ('EC095A79-690F-44D9-88FA-203A2FE06E59', 'Edit', @districtProgramsCategoryID, NULL, 1, NULL, NULL)

INSERT INTO SecurityTask
VALUES ('5EC8E61D-58D7-4A25-A932-E891817219DF', 'EC095A79-690F-44D9-88FA-203A2FE06E59', 0, NULL, NULL, 'E8FF2A9C-1861-4C72-82A2-57822226722F')

--Delete Program
INSERT INTO SecurityTaskType
VALUES ('34385C76-4F20-452E-B0C6-58F6FAD05218', 'Delete Program', 'Delete Program')

INSERT INTO SecurityTaskCategory
VALUES ('2E71C940-EBBE-4621-B805-C13526E3DB2F', 'Delete', @districtProgramsCategoryID, NULL, 2, NULL, NULL)

INSERT INTO SecurityTask
VALUES ('34385C76-4F20-452E-B0C6-58F6FAD05218', '2E71C940-EBBE-4621-B805-C13526E3DB2F', 0, NULL, NULL, 'E8350D6E-E896-4CCD-9A8D-42354DD65925')